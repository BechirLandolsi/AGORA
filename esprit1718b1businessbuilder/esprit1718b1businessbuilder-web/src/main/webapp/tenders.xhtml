<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	template="/template/template.xhtml">
	
	
	<ui:define name="pageTitle">
				TENDERS PAGE
	</ui:define>
	
	
	
	<ui:define name="pageContent">
			<div class="row wrapper border-bottom white-bg page-heading">
                <div class="col-lg-10">
                    <h2>My tenders</h2>  
                </div>
            </div>
            
   
                 <div class="row">
                <div class="col-lg-12">
                    <div class="ibox float-e-margins">
                        <div class="ibox-title">
                            <h5>Post a new tender</h5>
                            <div class="ibox-tools">
                                <a class="collapse-link">
                                    <i class="fa fa-chevron-up"></i>
                                </a>
                            </div>
                        </div>
                        <div class="ibox-content">
                        
                            <h:form class="form-horizontal" >
                                <div class="form-group"><label class="col-sm-2 control-label">Title</label>

                                    <div class="col-sm-10"><h:inputText value="#{tenderBean.tender.title}" type="text" class="form-control"/></div>
                                </div>
                                
                                <div class="hr-line-dashed"></div>
                                
                                <div class="form-group">
                                	<label class="col-sm-2 control-label">Content</label>
                                	<div class="col-sm-10"><h:inputTextarea value="#{tenderBean.tender.content}"  rows="10" cols="100" completeMethod="#{inputTextareaView.completeArea}" queryDelay="750" minQueryLength="4" class="form-control" /></div>
 								</div>
 								
 								<div class="hr-line-dashed"></div>
                                
		                             <div class="form-group" id="data_2">
		                                <label class="col-sm-2 control-label">Deadline</label>
		                                <div class="input-group date">
		                                   	 <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
		                                   	 <h:inputText value="#{tenderBean.tender.deadline}" class="form-control" >
		                                   	 	<f:convertDateTime pattern="dd/MM/yyyy"/>
		                                   	 </h:inputText>
		                                </div>
		                            </div>
                                
                                <div class="hr-line-dashed"></div>
                                
                                  <div class="form-group">
                                	<label class="col-sm-2 control-label">Category</label>
                                	<div class="col-sm-10">
                                		<h:selectOneMenu value="#{tenderBean.categoryName}" class="form-control">
                                			<f:selectItems value="#{tenderBean.categories}"/>
                                		</h:selectOneMenu>
                                	</div>
                                  </div>
                                
                                <div class="hr-line-dashed"></div>
                                
                                 <div class="form-group">
                                    <div class="col-sm-4 col-sm-offset-2"> 
                                 
                                        <h:commandButton value="Post" action="#{tenderBean.ajouter()}" class="btn btn-primary" />
                                        
                                     </div>
                                </div>
                             </h:form>
                            
                        </div>
                    </div>
                </div>
            </div> 
            
            <!-- ***************************************************** My Tenders*********************************** -->
            
            <h:form>	
		<ui:repeat var="tender" value="#{tenderBean.myTenders}">
				
			<div class="row">
			
					
	                <div class="col-lg-12">
	
	                    <div class="ibox product-detail">
	                        <div class="ibox-content">
	                        	
	                        	<div class="feed-element">
	                                        <a href="#" class="pull-left">
	                                            <img alt="image" class="img-circle" src="resources/img/a2.jpg"/>
	                                        </a>
	                                        <div class="media-body ">
	                                            <small class="pull-right"><h:outputText value="#{tenderBean.getPrettyTime(tender)}" /></small>
	                                            <strong><h:outputText value="#{tender.companyTender.name}" /></strong> posted a new tender <br></br>
	                                            <small class="text-muted"><h:outputText value="#{tender.publishedDate}" /></small>
	       
	                                        </div>
	                                    </div>
	
	                            <div class="row">
	                                
	                                <div class="col-md-7">
	
	                                    <h2 class="font-bold m-b-xs">
	                                        <a href="#" class="text-navy"><h:outputText value="#{tender.title}" /></a>
	                                    </h2>
	                                    <hr></hr>
	
	                                    <h2><STRONG>Tender description</STRONG></h2>
	
	                                    <div >
	                                    	<H2>
	                                        <h:outputText value="#{tender.content}" /></H2>
	                                    </div>
	                                    <dl class="small m-t-md">
	                                        <dt>Tender Category</dt>
	                                        <dd><h:outputText value="#{tender.category}" /></dd>
	                                    </dl>
	                                    <hr></hr>
	
	                                    <div>
	                                        <div class="pull-right">
	                                            <button class="btn btn-info " type="button"><i class="fa fa-paste"></i> Edit</button>
	                                            <button class="btn btn-danger" type="submit" id="delete" jsf:action="#{tenderBean.delete(tender)}"><i class="fa fa-recycle"></i> <span class="bold">Delete</span></button>
	                                            
	                                        </div>
	                                    </div>
	
	
	
	                                </div>
	                            </div>
	
	                        </div>
	                        <div class="ibox-footer">
	                            <span class="pull-right">
	                                Deadline - <i class="fa fa-clock-o"></i> 14.04.2016 10:04 pm
	                            </span>
	                            <br/>
	                        </div>
	                    </div>
	
	                </div>
	            </div>
			
		</ui:repeat>
	</h:form>		
          

		</ui:define>
	
	
	
	
	
	
	
</ui:composition>